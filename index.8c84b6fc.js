!function(){var t={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")};function n(t){return fetch("".concat("https://api.themoviedb.org/3","/trending/movie/day?api_key=").concat("46cf2a6d2c28bead868caabe4f80f475","&page=").concat(t)).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).catch((function(t){return console.log("Error!")}))}var i=1,e=1,a=0;function s(n){var i=n.results.map((function(t){var n=t.poster_path,i=t.title,e=t.release_date,a=t.media_type;return'<li class="films-list__item">\n                    <a href="" class="films-list__link">\n                        <img src="https://image.tmdb.org/t/p/w500/'.concat(n,'" alt="').concat(i,'" class="films-list__img" />\n                        <h2 class="films-list__title">').concat(i,'</h2>\n                        <span class="films-list__text-ganres">').concat(a,'</span>\n                        <span class="films-list__span">|</span>\n                        <span class="films-list__text-date">').concat(e.split("-")[0],"</span>\n                    </a>\n                </li>")})).join("");t.filmotekaList.innerHTML=i}function o(n){n>1?t.btnPref.removeAttribute("disabled"):t.btnPref.setAttribute("disabled",!0)}function c(n,i){n===i?t.btnNext.setAttribute("disabled",!0):t.btnNext.removeAttribute("disabled")}t.btnNext.addEventListener("click",(function(){i+=1,t.btnPref.removeAttribute("disabled");var o=document.querySelector(".pagination-list__btn--active");o.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),o.classList.remove("pagination-list__btn--active"),n(i).then((function(n){console.log(n),s(n);!function(n,i){var s=10;n>3&&n<=s-2&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(e,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,e+=1)}(i),c(i,10)})).catch((function(t){return console.log(t)}))})),t.btnPref.addEventListener("click",(function(){i-=1,t.btnNext.removeAttribute("disabled");var c=document.querySelector(".pagination-list__item .pagination-list__btn--active");c.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),c.classList.remove("pagination-list__btn--active"),n(i).then((function(n){var c,r;console.log(n),s(n),r=10,(c=i)>=3&&c<r-2&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(a,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,e-=1),o(i)})).catch((function(t){return console.log(t)}))})),t.paginationList.addEventListener("click",(function(r){i=Number(r.target.textContent);var l=document.querySelector(".pagination-list__btn--active"),u=r.target;l!==u&&n(i).then((function(n){console.log(n),s(n);Number(r.target.textContent)>Number(l.textContent)?function(n,i,s){var o=10,c=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(n.target.textContent),l=r-c,u=1===c||2===c,m=r===o-2||r===o-1,p=c===o-3;i>3&&i<=o-2&&1===l&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(e,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,e+=1,console.log(11));i>3&&i<=o-2&&2===l&&!u&&(t.paginationList.style.transform="translateX(calc(".concat(a,"px - 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-80,e+=2,console.log(22));u&&4===r&&5!==o&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(e,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,e+=1,console.log(33));u&&5===r&&5!==o&&(t.paginationList.style.transform="translateX(calc(".concat(a,"px - 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-80,e+=2,console.log(44));m&&p&&5!==o&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(e,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,e+=1,console.log(55))}(r,i):function(n,i,s){var o=10,c=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(n.target.textContent),l=c-r,u=2===r||r===o-3,m=c===o||c===o-1,p=r===o-3,b=r===o-4;i>=3&&i<o-2&&1===l&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(a,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,e-=1,console.log(1));i>=3&&i<o-2&&2===l&&!u&&(t.paginationList.style.transform="translateX(calc(".concat(a,"px + 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=80,e-=2,console.log(2));4===c&&u&&5!==o&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(a,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,e-=1,console.log(3));m&&p&&5!==o&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(a,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,e-=1,console.log(4));m&&b&&5!==o&&(t.paginationList.style.transform="translateX(calc(".concat(a,"px + 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=80,e-=2,console.log(5))}(r,i),l.classList.remove("pagination-list__btn--active"),r.target.classList.add("pagination-list__btn--active"),o(i),c(i,10)})).catch((function(t){return console.log(t)}))})),t.btnPref.setAttribute("disabled",!0),n(i).then((function(n){s(n),t.paginationList.innerHTML=function(t){for(var n=[],i=1;i<=10;i+=1)n.push(i);return n.map((function(t){return'<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">'.concat(t,"</button>\n        </li>")})).join("")}();document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),t.btnNext.classList.remove("is-hidden"),t.btnPref.classList.remove("is-hidden")})).catch((function(t){return console.log(t)}))}();
//# sourceMappingURL=index.8c84b6fc.js.map
