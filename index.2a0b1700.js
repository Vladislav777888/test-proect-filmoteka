!function(){var t="https://api.themoviedb.org/3",n="46cf2a6d2c28bead868caabe4f80f475";var e,i={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")},a="genres",s="https://image.tmdb.org/t/p/w500/",r="https://freesvg.org/img/cyberscooty-movie-video-tape-remix.png";(e=1,fetch("".concat(t,"/trending/movie/day?api_key=").concat(n,"&page=").concat(e)).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).catch((function(t){return console.log("Error!")}))).then((function(t){!function(t){var n=t.results.map((function(t){var n=t.poster_path,e=t.title,i=t.release_date,a=t.genre_ids,c=t.id;genresArray=[];var l="";return o.genres.map((function(t){if(a.includes(t.id))return genresArray.push(t.name)})),l=genresArray.join(", "),a&&0!==a.length||(l="genre unknown"),n=n?s+n:r,e||(e="no name"),i||(i=""),'<li class="films-list__item" data-id="'.concat(c,'">\n  <a href="" class="films-list__link">\n    <img\n      src="').concat(n,'"\n      alt="').concat(e,'"\n      class="films-list__img"\n      loading="lazy"\n    />\n    <h2 class="films-list__title">').concat(e,'</h2>\n    <span class="films-list__text-ganres">').concat(l,'</span>\n    <span class="films-list__span">|</span>\n    <span class="films-list__text-date">').concat(i.split("-")[0],"</span>    \n  </a>\n</li>")})).join("");i.filmotekaList.innerHTML=n}(t),i.paginationList.innerHTML=function(t){for(var n=[],e=1;e<=t.total_pages;e+=1)n.push(e);return n.map((function(t){return'<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">'.concat(t,"</button>\n        </li>")})).join("")}(t);var n=t.total_pages;n<5&&(i.paginationList.style.justifyContent="center"),1===n&&i.btnNext.setAttribute("disabled",!0),document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),i.btnNext.classList.remove("is-hidden"),i.btnPref.classList.remove("is-hidden")})).catch((function(t){return console.log(t)})),fetch("".concat(t,"/genre/movie/list?api_key=").concat(n,"&language=en-US")).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).catch((function(t){return console.log("Error!")})).then((function(t){localStorage.setItem(a,JSON.stringify(t))})).catch((function(t){return console.log(t)}));var o=JSON.parse(localStorage.getItem(a));i.btnNext.addEventListener("click",(function(){c+=1,i.btnPref.removeAttribute("disabled");var t=document.querySelector(".pagination-list__btn--active");t.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),t.classList.remove("pagination-list__btn--active"),fetchMovies(c).then((function(t){renderFilms(t);var n=t.total_pages;!function(t,n){var e=n.total_pages;t>3&&t<=e-2&&(i.paginationList.style.transform="translateX(calc((-40px) * ".concat(l,"))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-40,l+=1)}(c,t),m(c,n)})).catch((function(t){return console.log(t)}))})),i.btnPref.addEventListener("click",(function(){c-=1,i.btnNext.removeAttribute("disabled");var t=document.querySelector(".pagination-list__item .pagination-list__btn--active");t.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),t.classList.remove("pagination-list__btn--active"),fetchMovies(c).then((function(t){renderFilms(t),function(t,n){var e=n.total_pages;t>=3&&t<e-2&&(i.paginationList.style.transform="translateX(calc(40px + ".concat(p,"px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=40,l-=1)}(c,t),u(c)})).catch((function(t){return console.log(t)}))})),i.paginationList.addEventListener("click",(function(t){c=Number(t.target.textContent);var n=document.querySelector(".pagination-list__btn--active"),e=t.target;n!==e&&fetchMovies(c).then((function(e){renderFilms(e);var a=e.total_pages;Number(t.target.textContent)>Number(n.textContent)?function(t,n,e){var a=e.total_pages,s=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(t.target.textContent),o=r-s,c=1===s||2===s,u=r===a-2||r===a-1,m=s===a-3;n>3&&n<=a-2&&1===o&&!u&&(i.paginationList.style.transform="translateX(calc((-40px) * ".concat(l,"))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-40,l+=1);n>3&&n<=a-2&&2===o&&!c&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px - 80px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-80,l+=2);c&&4===r&&5!==a&&(i.paginationList.style.transform="translateX(calc((-40px) * ".concat(l,"))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-40,l+=1);c&&5===r&&5!==a&&6!==a&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px - 80px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-80,l+=2);c&&5===r&&5!==a&&6===a&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px - 40px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-40,l+=1);u&&m&&5!==a&&(i.paginationList.style.transform="translateX(calc((-40px) * ".concat(l,"))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=-40,l+=1)}(t,c,e):function(t,n,e){var a=e.total_pages,s=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(t.target.textContent),o=s-r,c=2===r||r===a-3,u=s===a||s===a-1,m=r===a-3,g=r===a-4;n>=3&&n<a-2&&1===o&&(i.paginationList.style.transform="translateX(calc(40px + ".concat(p,"px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=40,l-=1);n>=3&&n<a-2&&2===o&&!c&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px + 80px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=80,l-=2);4===s&&c&&5!==a&&(i.paginationList.style.transform="translateX(calc(40px + ".concat(p,"px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=40,l-=1);u&&m&&5!==a&&(i.paginationList.style.transform="translateX(calc(40px + ".concat(p,"px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=40,l-=1);u&&g&&5!==a&&6!==a&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px + 80px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=80,l-=2);u&&g&&5!==a&&6===a&&(i.paginationList.style.transform="translateX(calc(".concat(p,"px + 40px))"),i.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",p+=40,l-=1)}(t,c,e),n.classList.remove("pagination-list__btn--active"),t.target.classList.add("pagination-list__btn--active"),u(c),m(c,a)})).catch((function(t){return console.log(t)}))})),i.btnPref.setAttribute("disabled",!0);var c=1,l=1,p=0;function u(t){t>1?i.btnPref.removeAttribute("disabled"):i.btnPref.setAttribute("disabled",!0)}function m(t,n){t===n?i.btnNext.setAttribute("disabled",!0):i.btnNext.removeAttribute("disabled")}}();
//# sourceMappingURL=index.2a0b1700.js.map
