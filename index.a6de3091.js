const t={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")};var e;(e=1,fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=46cf2a6d2c28bead868caabe4f80f475&page=${e}`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log("Error!")))).then((e=>{!function(e){const i=e.results.map((({poster_path:t,title:e,release_date:i,genre_ids:a,id:s})=>{genresArray=[];let r="";return n.genres.map((t=>{if(a.includes(t.id))return genresArray.push(t.name)})),r=genresArray.join(", "),a&&0!==a.length||(r="genre unknown"),e||(e="no name"),i||(i=""),`<li class="films-list__item" data-id="${s}">\n  <a href="" class="films-list__link">\n    <img\n      src="${t=t?"https://image.tmdb.org/t/p/w500/"+t:"https://freesvg.org/img/cyberscooty-movie-video-tape-remix.png"}"\n      alt="${e}"\n      class="films-list__img"\n      loading="lazy"\n    />\n    <h2 class="films-list__title">${e}</h2>\n    <span class="films-list__text-ganres">${r}</span>\n    <span class="films-list__span">|</span>\n    <span class="films-list__text-date">${i.split("-")[0]}</span>    \n  </a>\n</li>`})).join("");t.filmotekaList.innerHTML=i}(e),t.paginationList.innerHTML=function(t){let e=[];for(let n=1;n<=t.total_pages;n+=1)e.push(n);return e.map((t=>`<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">${t}</button>\n        </li>`)).join("")}(e);const i=e.total_pages;i<5&&(t.paginationList.style.justifyContent="center"),1===i&&t.btnNext.setAttribute("disabled",!0),document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),t.btnNext.classList.remove("is-hidden"),t.btnPref.classList.remove("is-hidden")})).catch((t=>console.log(t))),fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=46cf2a6d2c28bead868caabe4f80f475&language=en-US").then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log("Error!"))).then((t=>{localStorage.setItem("genres",JSON.stringify(t))})).catch((t=>console.log(t)));const n=JSON.parse(localStorage.getItem("genres"));t.btnNext.addEventListener("click",(function(){i+=1,t.btnPref.removeAttribute("disabled");let e=document.querySelector(".pagination-list__btn--active");e.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),e.classList.remove("pagination-list__btn--active"),fetchMovies(i).then((e=>{renderFilms(e);const n=e.total_pages;!function(e,n){const i=n.total_pages;e>3&&e<=i-2&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${a}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,a+=1)}(i,e),o(i,n)})).catch((t=>console.log(t)))})),t.btnPref.addEventListener("click",(function(){i-=1,t.btnNext.removeAttribute("disabled");let e=document.querySelector(".pagination-list__item .pagination-list__btn--active");e.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),e.classList.remove("pagination-list__btn--active"),fetchMovies(i).then((e=>{renderFilms(e),function(e,n){const i=n.total_pages;e>=3&&e<i-2&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,a-=1)}(i,e),r(i)})).catch((t=>console.log(t)))})),t.paginationList.addEventListener("click",(function(e){i=Number(e.target.textContent);const n=document.querySelector(".pagination-list__btn--active"),l=e.target;n!==l&&fetchMovies(i).then((l=>{renderFilms(l);const c=l.total_pages;Number(e.target.textContent)>Number(n.textContent)?function(e,n,i){const r=i.total_pages,o=Number(document.querySelector(".pagination-list__btn--active").textContent),l=Number(e.target.textContent),c=l-o,p=1===o||2===o,m=l===r-2||l===r-1,g=o===r-3;n>3&&n<=r-2&&1===c&&!m&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${a}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,a+=1);n>3&&n<=r-2&&2===c&&!p&&(t.paginationList.style.transform=`translateX(calc(${s}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-80,a+=2);p&&4===l&&5!==r&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${a}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,a+=1);p&&5===l&&5!==r&&6!==r&&(t.paginationList.style.transform=`translateX(calc(${s}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-80,a+=2);p&&5===l&&5!==r&&6===r&&(t.paginationList.style.transform=`translateX(calc(${s}px - 40px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,a+=1);m&&g&&5!==r&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${a}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,a+=1)}(e,i,l):function(e,n,i){const r=i.total_pages,o=Number(document.querySelector(".pagination-list__btn--active").textContent),l=Number(e.target.textContent),c=o-l,p=2===l||l===r-3,m=o===r||o===r-1,g=l===r-3,b=l===r-4;n>=3&&n<r-2&&1===c&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,a-=1);n>=3&&n<r-2&&2===c&&!p&&(t.paginationList.style.transform=`translateX(calc(${s}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=80,a-=2);4===o&&p&&5!==r&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,a-=1);m&&g&&5!==r&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,a-=1);m&&b&&5!==r&&6!==r&&(t.paginationList.style.transform=`translateX(calc(${s}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=80,a-=2);m&&b&&5!==r&&6===r&&(t.paginationList.style.transform=`translateX(calc(${s}px + 40px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,a-=1)}(e,i,l),n.classList.remove("pagination-list__btn--active"),e.target.classList.add("pagination-list__btn--active"),r(i),o(i,c)})).catch((t=>console.log(t)))})),t.btnPref.setAttribute("disabled",!0);let i=1,a=1,s=0;function r(e){e>1?t.btnPref.removeAttribute("disabled"):t.btnPref.setAttribute("disabled",!0)}function o(e,n){e===n?t.btnNext.setAttribute("disabled",!0):t.btnNext.removeAttribute("disabled")}
//# sourceMappingURL=index.a6de3091.js.map
