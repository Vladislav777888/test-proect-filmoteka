const t={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")};function n(t){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=46cf2a6d2c28bead868caabe4f80f475&page=${t}`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log("Error!")))}let e=1,i=1,s=0;function a(n){const e=n.results.map((({poster_path:t,title:n,release_date:e,media_type:i})=>`<li class="films-list__item">\n                    <a href="" class="films-list__link">\n                        <img src="https://image.tmdb.org/t/p/w500/${t}" alt="${n}" class="films-list__img" />\n                        <h2 class="films-list__title">${n}</h2>\n                        <span class="films-list__text-ganres">${i}</span>\n                        <span class="films-list__span">|</span>\n                        <span class="films-list__text-date">${e.split("-")[0]}</span>\n                    </a>\n                </li>`)).join("");t.filmotekaList.innerHTML=e}function o(n){n>1?t.btnPref.removeAttribute("disabled"):t.btnPref.setAttribute("disabled",!0)}function l(n,e){n===e?t.btnNext.setAttribute("disabled",!0):t.btnNext.removeAttribute("disabled")}t.btnNext.addEventListener("click",(function(){e+=1,t.btnPref.removeAttribute("disabled");let o=document.querySelector(".pagination-list__btn--active");o.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),o.classList.remove("pagination-list__btn--active"),n(e).then((n=>{console.log(n),a(n);!function(n,e){const a=10;n>3&&n<=a-2&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,i+=1)}(e),l(e,10)})).catch((t=>console.log(t)))})),t.btnPref.addEventListener("click",(function(){e-=1,t.btnNext.removeAttribute("disabled");let l=document.querySelector(".pagination-list__item .pagination-list__btn--active");l.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),l.classList.remove("pagination-list__btn--active"),n(e).then((n=>{console.log(n),a(n),function(n,e){const a=10;n>=3&&n<a-2&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,i-=1)}(e),o(e)})).catch((t=>console.log(t)))})),t.paginationList.addEventListener("click",(function(r){e=Number(r.target.textContent);const c=document.querySelector(".pagination-list__btn--active"),m=r.target;c!==m&&n(e).then((n=>{console.log(n),a(n);Number(r.target.textContent)>Number(c.textContent)?function(n,e,a){const o=10,l=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(n.target.textContent),c=r-l,m=1===l||2===l,p=r===o-2||r===o-1,b=l===o-3;e>3&&e<=o-2&&1===c&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,i+=1,console.log(11));e>3&&e<=o-2&&2===c&&!m&&(t.paginationList.style.transform=`translateX(calc(${s}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-80,i+=2,console.log(22));m&&4===r&&5!==o&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,i+=1,console.log(33));m&&5===r&&5!==o&&(t.paginationList.style.transform=`translateX(calc(${s}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-80,i+=2,console.log(44));p&&b&&5!==o&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=-40,i+=1,console.log(55))}(r,e):function(n,e,a){const o=10,l=Number(document.querySelector(".pagination-list__btn--active").textContent),r=Number(n.target.textContent),c=l-r,m=2===r||r===o-3,p=l===o||l===o-1,b=r===o-3,g=r===o-4;e>=3&&e<o-2&&1===c&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,i-=1,console.log(1));e>=3&&e<o-2&&2===c&&!m&&(t.paginationList.style.transform=`translateX(calc(${s}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=80,i-=2,console.log(2));4===l&&m&&5!==o&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,i-=1,console.log(3));p&&b&&5!==o&&(t.paginationList.style.transform=`translateX(calc(40px + ${s}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=40,i-=1,console.log(4));p&&g&&5!==o&&(t.paginationList.style.transform=`translateX(calc(${s}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s+=80,i-=2,console.log(5))}(r,e),c.classList.remove("pagination-list__btn--active"),r.target.classList.add("pagination-list__btn--active"),o(e),l(e,10)})).catch((t=>console.log(t)))})),t.btnPref.setAttribute("disabled",!0),n(e).then((n=>{a(n),t.paginationList.innerHTML=function(t){let n=[];for(let t=1;t<=10;t+=1)n.push(t);return n.map((t=>`<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">${t}</button>\n        </li>`)).join("")}();document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),t.btnNext.classList.remove("is-hidden"),t.btnPref.classList.remove("is-hidden")})).catch((t=>console.log(t)));
//# sourceMappingURL=index.15edac5e.js.map
