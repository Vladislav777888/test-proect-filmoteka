!function(){var t={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")};function n(t){return fetch("".concat("https://api.themoviedb.org/3","/trending/movie/day?api_key=").concat("46cf2a6d2c28bead868caabe4f80f475","&page=").concat(t)).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).catch((function(t){return console.log("Error!")}))}var i=1,a=1,e=0;function s(n){var i=n.results.map((function(t){var n=t.poster_path,i=t.title,a=t.release_date,e=t.media_type;return'<li class="films-list__item">\n                    <a href="" class="films-list__link">\n                        <img src="https://image.tmdb.org/t/p/w500/'.concat(n,'" alt="').concat(i,'" class="films-list__img" />\n                        <h2 class="films-list__title">').concat(i,'</h2>\n                        <span class="films-list__text-ganres">').concat(e,'</span>\n                        <span class="films-list__span">|</span>\n                        <span class="films-list__text-date">').concat(a.split("-")[0],"</span>\n                    </a>\n                </li>")})).join("");t.filmotekaList.innerHTML=i}function o(n){n>1?t.btnPref.removeAttribute("disabled"):t.btnPref.setAttribute("disabled",!0)}function r(n,i){n===i?t.btnNext.setAttribute("disabled",!0):t.btnNext.removeAttribute("disabled")}t.btnNext.addEventListener("click",(function(){i+=1,t.btnPref.removeAttribute("disabled");var o=document.querySelector(".pagination-list__btn--active");o.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),o.classList.remove("pagination-list__btn--active"),n(i).then((function(n){console.log(n),s(n);var o=n.total_pages;!function(n,i){var s=i.total_pages;n>3&&n<=s-2&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(a,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-40,a+=1)}(i,n),r(i,o)})).catch((function(t){return console.log(t)}))})),t.btnPref.addEventListener("click",(function(){i-=1,t.btnNext.removeAttribute("disabled");var r=document.querySelector(".pagination-list__item .pagination-list__btn--active");r.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),r.classList.remove("pagination-list__btn--active"),n(i).then((function(n){console.log(n),s(n),function(n,i){var s=i.total_pages;n>=3&&n<s-2&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(e,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=40,a-=1)}(i,n),o(i)})).catch((function(t){return console.log(t)}))})),t.paginationList.addEventListener("click",(function(c){i=Number(c.target.textContent);var l=document.querySelector(".pagination-list__btn--active"),p=c.target;l!==p&&n(i).then((function(n){console.log(n),s(n);var p=n.total_pages;Number(c.target.textContent)>Number(l.textContent)?function(n,i,s){var o=s.total_pages,r=Number(document.querySelector(".pagination-list__btn--active").textContent),c=Number(n.target.textContent),l=c-r,p=1===r||2===r,u=c===o-2||c===o-1,m=r===o-3;i>3&&i<=o-2&&1===l&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(a,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-40,a+=1);i>3&&i<=o-2&&2===l&&!p&&(t.paginationList.style.transform="translateX(calc(".concat(e,"px - 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-80,a+=2);p&&4===c&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(a,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-40,a+=1);p&&5===c&&(t.paginationList.style.transform="translateX(calc(".concat(e,"px - 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-80,a+=2);u&&m&&(t.paginationList.style.transform="translateX(calc((-40px) * ".concat(a,"))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=-40,a+=1)}(c,i,n):function(n,i,s){var o=s.total_pages,r=Number(document.querySelector(".pagination-list__btn--active").textContent),c=Number(n.target.textContent),l=r-c,p=2===c||c===o-3,u=r===o||r===o-1,m=c===o-3,b=c===o-4;i>=3&&i<o-2&&1===l&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(e,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=40,a-=1);i>=3&&i<o-2&&2===l&&!p&&(t.paginationList.style.transform="translateX(calc(".concat(e,"px + 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=80,a-=2);4===r&&p&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(e,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=40,a-=1);u&&m&&(t.paginationList.style.transform="translateX(calc(40px + ".concat(e,"px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=40,a-=1);u&&b&&(t.paginationList.style.transform="translateX(calc(".concat(e,"px + 80px))"),t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",e+=80,a-=2)}(c,i,n),l.classList.remove("pagination-list__btn--active"),c.target.classList.add("pagination-list__btn--active"),o(i),r(i,p)})).catch((function(t){return console.log(t)}))})),t.btnPref.setAttribute("disabled",!0),n(i).then((function(n){s(n),t.paginationList.innerHTML=function(t){for(var n=[],i=1;i<=t.total_pages;i+=1)n.push(i);return n.map((function(t){return'<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">'.concat(t,"</button>\n        </li>")})).join("")}(n),document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),t.btnNext.classList.remove("is-hidden"),t.btnPref.classList.remove("is-hidden")})).catch((function(t){return console.log(t)}))}();
//# sourceMappingURL=index.e9a5a856.js.map
