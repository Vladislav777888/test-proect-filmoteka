const t={form:document.querySelector(".js-header-form"),btnWatched:document.querySelector("#btn-watched"),btnQueue:document.querySelector("#btn-queue"),filmotekaList:document.querySelector(".films-list"),btnPref:document.querySelector(".pagintion__btn--pref"),btnNext:document.querySelector(".pagintion__btn--next"),paginationList:document.querySelector(".pagination-list")};function n(t){return fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=46cf2a6d2c28bead868caabe4f80f475&page=${t}`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log("Error!")))}let e=1,i=1,a=0;function s(n){const e=n.results.map((({poster_path:t,title:n,release_date:e,media_type:i})=>`<li class="films-list__item">\n                    <a href="" class="films-list__link">\n                        <img src="https://image.tmdb.org/t/p/w500/${t}" alt="${n}" class="films-list__img" />\n                        <h2 class="films-list__title">${n}</h2>\n                        <span class="films-list__text-ganres">${i}</span>\n                        <span class="films-list__span">|</span>\n                        <span class="films-list__text-date">${e.split("-")[0]}</span>\n                    </a>\n                </li>`)).join("");t.filmotekaList.innerHTML=e}function o(n){n>1?t.btnPref.removeAttribute("disabled"):t.btnPref.setAttribute("disabled",!0)}function r(n,e){n===e?t.btnNext.setAttribute("disabled",!0):t.btnNext.removeAttribute("disabled")}t.btnNext.addEventListener("click",(function(){e+=1,t.btnPref.removeAttribute("disabled");let o=document.querySelector(".pagination-list__btn--active");o.parentElement.nextElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),o.classList.remove("pagination-list__btn--active"),n(e).then((n=>{console.log(n),s(n);const o=n.total_pages;!function(n,e){const s=e.total_pages;n>3&&n<=s-2&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,i+=1)}(e,n),r(e,o)})).catch((t=>console.log(t)))})),t.btnPref.addEventListener("click",(function(){e-=1,t.btnNext.removeAttribute("disabled");let r=document.querySelector(".pagination-list__item .pagination-list__btn--active");r.parentElement.previousElementSibling.firstElementChild.classList.add("pagination-list__btn--active"),r.classList.remove("pagination-list__btn--active"),n(e).then((n=>{console.log(n),s(n),function(n,e){const s=e.total_pages;n>=3&&n<s-2&&(t.paginationList.style.transform=`translateX(calc(40px + ${a}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,i-=1)}(e,n),o(e)})).catch((t=>console.log(t)))})),t.paginationList.addEventListener("click",(function(l){e=Number(l.target.textContent);const c=document.querySelector(".pagination-list__btn--active"),p=l.target;c!==p&&n(e).then((n=>{console.log(n),s(n);const p=n.total_pages;Number(l.target.textContent)>Number(c.textContent)?function(n,e,s){const o=s.total_pages,r=Number(document.querySelector(".pagination-list__btn--active").textContent),l=Number(n.target.textContent),c=l-r,p=1===r||2===r,m=l===o-2||l===o-1,b=r===o-3;e>3&&e<=o-2&&1===c&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,i+=1);e>3&&e<=o-2&&2===c&&!p&&(t.paginationList.style.transform=`translateX(calc(${a}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-80,i+=2);p&&4===l&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,i+=1);p&&5===l&&(t.paginationList.style.transform=`translateX(calc(${a}px - 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-80,i+=2);m&&b&&(t.paginationList.style.transform=`translateX(calc((-40px) * ${i}))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=-40,i+=1)}(l,e,n):function(n,e,s){const o=s.total_pages,r=Number(document.querySelector(".pagination-list__btn--active").textContent),l=Number(n.target.textContent),c=r-l,p=2===l||l===o-3,m=r===o||r===o-1,b=l===o-3,u=l===o-4;e>=3&&e<o-2&&1===c&&(t.paginationList.style.transform=`translateX(calc(40px + ${a}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,i-=1);e>=3&&e<o-2&&2===c&&!p&&(t.paginationList.style.transform=`translateX(calc(${a}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=80,i-=2);4===r&&p&&(t.paginationList.style.transform=`translateX(calc(40px + ${a}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,i-=1);m&&b&&(t.paginationList.style.transform=`translateX(calc(40px + ${a}px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=40,i-=1);m&&u&&(t.paginationList.style.transform=`translateX(calc(${a}px + 80px))`,t.paginationList.style.transition="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",a+=80,i-=2)}(l,e,n),c.classList.remove("pagination-list__btn--active"),l.target.classList.add("pagination-list__btn--active"),o(e),r(e,p)})).catch((t=>console.log(t)))})),t.btnPref.setAttribute("disabled",!0),n(e).then((n=>{s(n),t.paginationList.innerHTML=function(t){let n=[];for(let e=1;e<=t.total_pages;e+=1)n.push(e);return n.map((t=>`<li class="pagination-list__item">\n            <button type="button" class="pagination-list__btn">${t}</button>\n        </li>`)).join("")}(n),document.querySelector(".pagination-list__btn").classList.add("pagination-list__btn--active"),t.btnNext.classList.remove("is-hidden"),t.btnPref.classList.remove("is-hidden")})).catch((t=>console.log(t)));
//# sourceMappingURL=index.77de7499.js.map
